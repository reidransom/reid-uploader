<!DOCTYPE html>
<html>
    <head>
        <title>Reid Uploader</title>
        <link rel="stylesheet" href="static/css/main.css">
    </head>
    <body>
        <h1>Reid Uploader</h1>
        <p>Select a file. It will start uploading automatically.</p>
        <p><input type="file" id="file" /></p>
        <p><div class="upload-progress"></div></p>
        <p><textarea id="log" rows="10"></textarea></p>
        <hr />
        <ul>
        {% for video in videos %}
            <a href="{{ video.url }}">
                <li>{{ video.key }}
                    <ul>
                        <li>{{ video.fps() }} fps</li>
                        <li>{{ video.width }}x{{ video.height }}</li>
                        <li>{{ video.num_audio_channels }} audio channels</li>
                        <li>{{ video.total_seconds() }} seconds</li>
                        <li>{{ video.filesize|default(0, true) }} Bytes</li>
                        <li>{{ video.video_bitrate }} kb/s video</li>
                        <li>{{ video.audio_bitrate }} kb/s audio</li>
                        <li>{{ video.total_bitrate() }} kb/s total</li>
                    </ul>
                </li>
            </a>
        {% endfor %}
        </ul>
        <script type="text/javascript" src="static/js/jquery-1.10.2.js"></script>
        <script type="text/javascript" src="static/js/mule-uploader.js"></script>
        <script type="text/javascript" src="static/js/main.js"></script>
        <script type="text/javascript">
            $(function() {
                reid_upload({
                    access_key: "{{ aws_access_key }}",
                    content_type: "{{ mime_type }}",
                    bucket: "{{ bucket }}",
                    key: "{{ key }}"
                    {% if ajax_base %}
                        , ajax_base: "{{ ajax_base }}"
                    {% endif %}
                })
            })
        </script>
    </body>
</html>
